{% extends "recipes/base.html" %}
{% block content %}
<h1 class="text-3xl font-bold">{{ recipe.title }}</h1>
<p class="text-gray-600">By {{ recipe.author }}</p>
<p class="mb-4">Category: {{ recipe.category }}</p>

{% if recipe.image %}
  <img src="{{ recipe.image.url }}" class="w-full h-60 object-cover rounded mb-4">
{% endif %}

<h2 class="font-bold">Ingredients</h2>
<p class="mb-4">{{ recipe.ingredients }}</p>

<h2 class="font-bold">Instructions</h2>
<p class="mb-4">{{ recipe.instructions }}</p>

<hr class="my-4">
<h2 class="font-bold">Comments</h2>
{% for comment in recipe.comments.all %}
  <p class="border p-2 my-2"><strong>{{ comment.author }}:</strong> {{ comment.text }}</p>
{% empty %}
  <p>No comments yet.</p>
{% endfor %}

{% if user.is_authenticated %}
<form method="post" class="mt-4">
  {% csrf_token %}
  <textarea name="text" class="border p-2 w-full" placeholder="Add a comment"></textarea>
  <button class="bg-green-600 text-white px-4 py-2 mt-2">Post Comment</button>
</form>
{% else %}
<p class="text-red-500 mt-2">Login to add a comment.</p>
{% endif %}
{% endblock %}
